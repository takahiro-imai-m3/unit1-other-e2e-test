id: ExB1rw4PMnZqgY8ZyyqOFw-j:3
name: Unit1_OPD_標準テスト_ID14
description: |-
  ■OPD標準テスト * ID14、20 
  ■条件 * コンテンツ種別: 動画、その他、OPD Quiz、添付文書 * アクション: あり * MR登録: あり 
  ■期待値 *動画コンテンツ、MR君・myMR君登録を視聴することができ、視聴時にアクションが進呈され、MR登録はされること
steps:
  - Echo:
      description: 'Echo: "####OPD管理画面にログインする"'
  - SetViewport:
      description: Set viewport size to width 1000 and height 700
  - Echo:
      description: 'Echo: "flow.urlがdefaultの場合はapp.urlへ、flow.urlが設定されていれば、そのURLへ遷移する"'
  - If:
      description: IF value of variable "flow.url" equals "?"
  - VisitUrl:
      description: Visit URL assigned to variable "app.url"
  - Else:
      description: ELSE
  - VisitUrl:
      description: Visit URL assigned to variable "flow.url"
  - End:
      description: END
  - Wait:
      description: Wait for 3 seconds
  - EnterText:
      description: Insert value of variable "flow.UserID" into the "Username" text field
  - EnterText:
      description: Insert value of variable "flow.Password" into the "Password" text field
  - Click:
      description: Click on the "submit" button
  - CreateVariable:
      description: >-
        Evaluate reusable JavaScript snippet
        "Unit1_URL_Remove_value_from_string2" and assign it to variable "proxy"
  - VisitUrl:
      description: >-
        Visit URL
        "https://opex-qa1.unit1.qa-a.m3internal.com/internal/dashboard"
      annotation:
        description: OPDダッシュボード画面に遷移(OPD編集画面に直接遷移すると失敗することがあるため)
  - Echo:
      description: 'Echo: "###メッセージを作成"'
  - Wait:
      description: Wait for 2 seconds
  - VisitUrl:
      description: >-
        Visit URL
        "https://opex-qa{{@proxy}}.unit1.qa-a.m3internal.com/internal/mrf_management/opd/create"
      annotation:
        description: OPD新規作成画面に遷移
  - Wait:
      description: Wait for 10 seconds
  - If:
      description: IF "innerText" of the <label> element with text "ID" equals "ID"
  - Else:
      description: ELSE
  - Navigate:
      description: Page reload performed
  - WaitUntil:
      description: >-
        Wait up to 15 seconds until target element matching Text attribute is
        present
  - End:
      description: END
  - Echo:
      description: 'Echo: "###メッセージを作成"'
  - CreateVariable:
      description: >-
        Evaluate reusable JavaScript snippet "Unit1_getDate" and assign it to
        variable "today"
      annotation:
        description: 変数の設定_"Unit1_getDate"で値を取得する_"today"
  - CreateVariable:
      description: >-
        Generate a random string with format
        "{{@today.yearNumeric}}/{{@today.monthTwoDigit}}/{{@today.dayTwoDigit}}"
        and assign it to variable "opd_start_time"
      annotation:
        description: 変数の設定_yyyy/mm/ddの形式で値を取得する_変数_"opd_start_time"
  - CreateVariable:
      description: >-
        Generate a random string with format
        "{{@today.yearNumeric}}{{@today.monthTwoDigit}}{{@today.dayTwoDigit}}"
        and assign it to variable "opd_message_number"
      annotation:
        description: 変数の設定_YYYYMMDD形式で日付取得_変数_ "opd_message_number"
  - Wait:
      description: Wait for 2 seconds
  - EnterText:
      description: Enter "自動テスト株式会社" in the "会社名" text field
      annotation:
        description: 会社名に自動テスト株式会社と入力
  - EnterText:
      description: Enter "自動テスト薬品" in the "製品名" text field
      annotation:
        description: 製品名に自動テスト薬品と入力
  - CreateVariable:
      description: >-
        Generate a random string with format
        "{{@opd_message_number}}{{digit:7}}" and assign it to variable
        "opd_request_form_id"
      annotation:
        description: 変数の設定_"{{@opd_message_number}}{{digit:7}}"_変数名_ "opd_request_form_id"
  - EnterText:
      description: >-
        Insert value of variable "opd_request_form_id" into the "依頼フォームID" text
        field
      annotation:
        description: 変数を使用"opd_request_form_id"_依頼フォームIDに{{現在日付}}{{digit:7}}を入力
  - EnterText:
      description: Enter "100" in a text field
      annotation:
        description: 開封単価に"100"を入力
  - Click:
      description: >-
        Click on first <span> element matching css query
        "#isInDelivery_deliveryStatusDisplayed > span.el-radio__label"
      annotation:
        description: 配信ステータスの表示にチェック
  - CreateVariable:
      description: >-
        Generate a random string with format
        "自動テストタイトル{{@flow.ID}}_{{@opd_message_number}}_{{alnum:3}}" and assign
        it to variable "opd_message_title"
      annotation:
        description: >-
          変数の設定_"自動テストタイトル{{@flow.ID}}_{{@opd_message_number}}_{{alnum:3}}"_"opd_message_title"
  - EnterText:
      description: Insert value of variable "opd_message_title" into the "タイトル" text field
      annotation:
        description: 変数の使用 "opd_message_title"_自動テストタイトルを入力
  - EnterText:
      description: Enter "10" in a text field
      annotation:
        description: 開封数リミットに"10"を入力
  - Click:
      description: Click on the "開始日時" text field
      annotation:
        description: 開始日時を押下
  - Click:
      description: Click on the "日付を選択" text field
      annotation:
        description: 日付を選択を押下
  - EnterText:
      description: Insert value of variable "opd_start_time" into the "日付を選択" text field
      annotation:
        description: 変数を使用"opd_start_time"_現在日時を入力
  - Click:
      description: Click on the "時間を選択" text field
      annotation:
        description: 時間を選択を押下
  - EnterText:
      description: Enter "00:00:00" in the "時間を選択" text field
      annotation:
        description: 00:00:00を入力
  - Click:
      description: Click on the "OK" button
      annotation:
        description: OK押下
  - Click:
      description: Click on the "OK" button
      annotation:
        description: OK押下
  - Click:
      description: Click on the "終了日時" text field
      annotation:
        description: 終了日時を押下
  - Click:
      description: Click on the "日付を選択" text field
      annotation:
        description: 日付を選択を押下
  - EnterText:
      description: Insert value of variable "opd_start_time" into the "日付を選択" text field
      annotation:
        description: 変数を使用"opd_start_time"_現在日時を入力
  - Click:
      description: Click on the "時間を選択" text field
      annotation:
        description: 時間を選択を押下
  - EnterText:
      description: Enter "23:59:59" in the "時間を選択" text field
      annotation:
        description: 23:59:59を入力
  - Click:
      description: Click on the "OK" button
      annotation:
        description: OK押下
  - Click:
      description: Click on the "OK" button
      annotation:
        description: OK押下
  - Click:
      description: Click on the "配信終了日" button
      annotation:
        description: 配信終了日押下
  - EnterText:
      description: Insert value of variable "opd_message_title" into the "管理メモ" text field
      annotation:
        description: 管理メモに"opd_message_title"を入力
  - Click:
      description: >-
        Click on first <span> element matching css query
        "#messageType_messageTypeNormalOpd > span.el-radio__label"
      annotation:
        description: メッセージ種類の通常opd"にチェック
  - EnterText:
      description: Enter "50" in a text field
      annotation:
        description: 開封アクションに"50"を入力
  - Click:
      description: Click on the "選択してください" text field
      annotation:
        description: Click on the "選択してください" text field_合算チェック用会社押下
  - EnterText:
      description: >-
        Enter "9909000135" in the "9909000135:
        製薬会社グループ名・文字数多めキューエーセイヤクカブシキガイシャＡＢＣここまでで35文字" text field
  - Click:
      description: >-
        Click on the <span> element with text "9909000135:
        製薬会社グループ名・文字数多めキューエーセイヤクカブシキガイシャＡＢＣここまでで35文字"
  - Click:
      description: >-
        Click on first <span> element matching css query
        "#useEmbeddedMovie_doUseEmbeddedMoviePcSpOneTag > span.el-radio__label"
      annotation:
        description: 埋め込み動画の"利用する（PCもSPもワンタグ）"にチェック
  - EnterText:
      description: Enter "PCディテール本文コンテンツ" in the "PCディテール本文(HTML)" text field
  - Click:
      description: Click on the "PCディテール本文をSPディテール本文にコピーする" button
      annotation:
        description: '"PCディテール本文をSPディテール本文にコピーする"を押下'
  - Click:
      description: >-
        Click on first <span> element matching css query
        "#reportingQfbOutput_reportingQfbOutputFalse > span.el-radio__label"
      annotation:
        description: QFB100回答無償CP_対象外（QFB回答データを出力する）をチェック
  - EnterText:
      description: >-
        Enter "dellegra_201501_01" in the text field that meets the selected
        criteria
      annotation:
        description: 動画に"dellegra_201501_01" と入力
  - EnterText:
      description: Enter "5" in the text field that meets the selected criteria
      annotation:
        description: アクションポイント"5"設定
  - EnterText:
      description: Enter "https://www.m3.com" in a text field
      annotation:
        description: その他に"https://www.m3.com"と入力
  - EnterText:
      description: Enter "5" in a text field
      annotation:
        description: アクションポイント"5"設定
  - EnterText:
      description: Enter "https://www.yahoo.co.jp/" in a text field
      annotation:
        description: その他に "https://www.yahoo.co.jp/"と入力
  - EnterText:
      description: Enter "5" in a text field
      annotation:
        description: アクションポイント"5"設定
  - EnterText:
      description: Enter "https://www.google.com/intl/ja_jp/abo..." in a text field
      annotation:
        description: その他に"https://www.google.com/intl/ja_jp/abo..."と入力
  - EnterText:
      description: Enter "5" in a text field
      annotation:
        description: アクションポイント"5"設定
  - EnterText:
      description: Enter "https://mrkun.m3.com/mrq/contentsquiz..." in a text field
      annotation:
        description: OPD Quizに "https://mrkun.m3.com/mrq/contentsquiz..."と入力
  - EnterText:
      description: Enter "5" in a text field
      annotation:
        description: アクションポイント"5"設定
  - EnterText:
      description: Enter "https://www.google.com/?hl=ja" in a text field
      annotation:
        description: MR君・myMR君登録に"https://www.google.com/?hl=ja"と入力
  - EnterText:
      description: Enter "5" in a text field
      annotation:
        description: アクションポイント"5"設定
  - EnterText:
      description: Enter "https://www.mhlw.go.jp/file/05-Shingi..." in a text field
      annotation:
        description: 添付文書に"https://www.mhlw.go.jp/file/05-Shingi..."と入力
  - EnterText:
      description: Enter "5" in a text field
      annotation:
        description: アクションポイント"5"設定
  - Click:
      description: Click on the "新規作成" button
      annotation:
        description: 新規作成ボタンを押下
  - Click:
      description: Click on the "OK" button
      annotation:
        description: OK押下
  - Wait:
      description: Wait for 20 seconds
  - AssertDoesNotEqual:
      description: Assert "value" of the "ID" text field does not equal "0"
      annotation:
        description: IDが"0"でないことを確認(0以外のIDが作成される)
  - CreateVariable:
      description: >-
        Extract "value" from the "ID" text field and assign it to variable
        "opd_created_id14"
      annotation:
        description: 変数の設定_ID番号を取得_変数名_ "opd_created_id14"
  - CreateVariable:
      description: >-
        Generate a random string with format
        "https://mrkun.m3.com/admin/restricted/mt/OnePointDetail/list.jsp?pointCompanyCd=&productName=&memo=&opdId={{@opd_created_id14}}&action=view"
        and assign it to variable "opd_admin_search14"
      annotation:
        description: >-
          変数の設定_
          "https://mrkun.m3.com/admin/restricted/mt/OnePointDetail/list.jsp?pointCompanyCd=&productName=&memo=&opdId={{@opd_created_id14}}&action=view"_変数名_
          "opd_admin_search14"
  - VisitUrl:
      description: Visit URL assigned to variable "opd_admin_search14"
      annotation:
        description: URLにアクセスより変数指定で"opd_admin_search14"を選択し、OPD一覧画面に遷移し、OPDIDで検索状態にする
  - Wait:
      description: Wait for 5 seconds
  - Click:
      description: >-
        Click on the link "変更..." to
        https://mrkun.m3.com/ad...Name=&memo=&action=view#
      annotation:
        description: 変更...を押下
  - AwaitTab:
      description: >-
        Wait for the tab with URL
        "https://mrkun.m3.com/admin/restricted/mt/OnePointDetail/targetEdit.jsp?id=6866"
      annotation:
        description: ワンポイント医療情報管理 - ターゲットリスト変更画面表示までWait
  - SwitchContext:
      description: >-
        Switch context to the tab "TEST:mrqa1 MRKUN_5_6_67 Updated:2022-07-06
        13:36:51 ワンポイント医療情報管理 - ターゲットリスト変更画面"
      annotation:
        description: ワンポイント医療情報管理 - ターゲットリスト変更画面"にスイッチ
  - EnterText:
      description: Insert value of variable "flow.sys_code" into the "ID" text field
      annotation:
        description: '{{@flow.sys_code}}システムコードを入力'
  - Click:
      description: Click on a button
      annotation:
        description: 追加を押下
  - Click:
      description: Click on the "警告を無視して追加を行う場合は、チェックを付けてください。" checkbox
      annotation:
        description: '"警告を無視して追加を行う場合は、チェックを付けてください。"にチェック'
  - Click:
      description: Click on the "実 行" button
      annotation:
        description: '"実 行"を押下'
  - AssertEquals:
      description: >-
        Assert "innerText" of the <h1> element with text "ワンポイント医療情報管理 -
        ターゲットリスト変更結果画面 (テスト環境)" equals "ワンポイント医療情報管理 - ターゲットリスト変更結果画面 (テスト環境)"
      annotation:
        description: Assert_"ワンポイント医療情報管理 - ターゲットリスト変更結果画面 (テスト環境)"
  - SwitchContext:
      description: Switch context to the initial tab
      annotation:
        description: OPD一覧に遷移
  - Click:
      description: Click on the <h1> element with text "ワンポイント医療情報管理 - 一覧画面 (テスト環境)"
      annotation:
        description: スイッチ確認
  - VisitUrl:
      description: >-
        Visit URL
        "https://opex-qa{{@proxy}}.unit1.qa-a.m3internal.com/internal/mrf_management/opd/edit/{{@opd_created_id14}}?from_mrkun_view=true&memo=opd_%E6%A8%99%E6%BA%96%E3%83%86%E3%82%B9%E3%83%88&showDeleted=&pointCompanyCd=&productName=&action=view&opdId=""
      annotation:
        description: OPD編集画面に遷移
  - Wait:
      description: Wait for 3 seconds
  - Click:
      description: Click on the "MR_IDを登録しない" text field
      annotation:
        description: MR_IDのプルダウン押下
  - Click:
      description: Click on the <span> element with text "LIBONE | 里梨 亜衣(日本イーライリリー株式会社)"
      annotation:
        description: '"LIBONE | 里梨 亜衣(日本イーライリリー株式会社)"をプルダウンより選択'
  - Click:
      description: Click on the <span> element with class name "el-checkbox__inner"
      annotation:
        description: 動画コンテンツのMR登録にチェック
  - Click:
      description: Click on the <span> element that meets the selected criteria
      annotation:
        description: MR君・myMR君登録のMR登録にチェック
  - EnterText:
      description: Enter "" in the "PCディテール本文(HTML)" text field
      annotation:
        description: ディテール本文(HTML)を削除
  - EnterText:
      description: >-
        Enter "動画コンテンツ <div id=\"embedded-movie\"></di..." in the
        "PCディテール本文(HTML)" text field
      annotation:
        description: ディテール本文(HTML)を入力
  - Click:
      description: Click on the "PCディテール本文をSPディテール本文にコピーする" button
      annotation:
        description: '"PCディテール本文をSPディテール本文にコピーする"を押下'
  - Click:
      description: Click on the "OK" button
      annotation:
        description: '"OK"押下'
  - Click:
      description: Click on the "更新" button
      annotation:
        description: 更新を押下
  - Wait:
      description: Wait for 3 seconds
  - Click:
      description: Click on the "OK" button
      annotation:
        description: OK押下
  - Wait:
      description: Wait for 5 seconds
  - If:
      description: >-
        IF "innerText" of the <div> element with text "未確認 アップロード" equals "確認済み
        アップロード"
      annotation:
        description: IF JW Player動画が"確認済み アップロード"である
  - ElseIf:
      description: >-
        ELSE IF "innerText" of the <div> element that meets the selected
        criteria equals "未確認 アップロード"
      annotation:
        description: ELSE IF JW Player動画が"未確認 アップロード"である
  - Navigate:
      description: Page reload performed
      annotation:
        description: リロード(動画ファイルアップロードのため)
  - WaitUntil:
      description: >-
        Wait up to 45 seconds until target element matching Class Name and Text
        attributes is present
      annotation:
        description: アップロードが表示されるまでWait
  - VisitUrl:
      description: >-
        Visit URL
        "https://mrkun.m3.com/admin/restricted/jwplayer/upload.jsp?service=onepoint&movieId={{@opd_created_id14}}"
      annotation:
        description: 動画ファイルアップロードに遷移
  - AssertEquals:
      description: >-
        Assert "innerText" of the <label> element with text "動画ファイル" equals
        "動画ファイル"
      annotation:
        description: Assert_"動画ファイル"
  - SetFiles:
      description: Set file input to "short movie.mp4"
      annotation:
        description: '"short movie.mp4"のファイルを選択'
  - Click:
      description: Click on the "Upload & Encode" button
      annotation:
        description: Upload & Encodeボタンを押下
  - Wait:
      description: Wait for 15 seconds
  - VisitUrl:
      description: >-
        Visit URL
        "https://mrkun.m3.com/admin/restricted/jwplayer/upload.jsp?service=onepoint&movieId={{@opd_created_id14}}"
      annotation:
        description: 再度動画アップロード画面に遷移
  - Click:
      description: Click on the "公開する" button
      annotation:
        description: 公開するボタンを押下
  - VisitUrl:
      description: >-
        Visit URL
        "https://opex-qa{{@proxy}}.unit1.qa-a.m3internal.com/internal/mrf_management/opd/edit/{{@opd_created_id14}}?from_mrkun_view=true&memo=opd_%E6%A8%99%E6%BA%96%E3%83%86%E3%82%B9%E3%83%88&showDeleted=&pointCompanyCd=&productName=&action=view&opdId="
      annotation:
        description: 再度OPD編集画面に遷移
  - Wait:
      description: Wait for 10 seconds
  - Click:
      description: Click on the "更新" button
      annotation:
        description: 更新を押下
  - Wait:
      description: Wait for 3 seconds
  - Click:
      description: Click on the "OK" button
      annotation:
        description: OK押下
  - Wait:
      description: Wait for 5 seconds
  - End:
      description: END
  - Echo:
      description: 'Echo: "###M3に遷移"'
      annotation:
        description: 'Echo: "###M3に遷移"'
  - VisitUrl:
      description: Visit URL "https://mrkun.m3.com/mt/onepoint/top.htm?tc=sub-m3com"
      annotation:
        description: Ｍ3.comに遷移
  - Wait:
      description: Wait for 3 seconds
  - EnterText:
      description: Enter "mrqa_auto048" in the text field with ID "loginId"
      annotation:
        description: ログインIDに"mrqa_auto048"と入力
  - EnterText:
      description: Enter a password in the text field with ID "password"
      annotation:
        description: パスワードに"Autoqa1!"と入力
  - Click:
      description: Click on the "ログイン" button
      annotation:
        description: ログイン押下
  - VisitUrl:
      description: >-
        Visit URL
        "https://mrkun.m3.com/mt/onepoint/{{@opd_created_id14}}/view.htm?pageContext=opd1.0&sort=unread&mkep=list"
      annotation:
        description: 作成したOPDに遷移
  - Echo:
      description: >-
        Echo:
        "###ID14、20_動画、MR君・myMR君登録コンテンツを視聴することができ、視聴時にアクションが進呈され、MR登録はされること"
      annotation:
        description: >-
          Echo:
          "###ID14、20_動画、MR君・myMR君登録コンテンツを視聴することができ、視聴時にアクションが進呈され、MR登録はされること"
  - CreateVariable:
      description: >-
        Extract "innerText" from the <span> element with text "3,471" and assign
        it to variable "opd_action"
      annotation:
        description: 変数の設定_要素のプロパティを選び、要素の選択でアクションポイントを押下_変数名_"opd_action"
  - CreateVariable:
      description: >-
        Evaluate one-time JavaScript snippet "opd_actionCalc" and assign it to
        variable "opd_opened_action"
      annotation:
        description: >-
          変数の設定_Jsで"opd_actionCalc"を選択し現在のアクションポイントから加算した値を払い出す_変数名_"opd_opened_action"
  - SwitchContext:
      description: Switch context to the <iframe> element with class name "autoHeight"
      annotation:
        description: <iframe>にスイッチ
  - Click:
      description: Click on the <div> element with class name "jwplayer-overlay"
      annotation:
        description: 動画コンテンツを再生
  - SwitchContext:
      description: Switch context to the initial tab
  - SwitchContext:
      description: Switch context to the <iframe> element with class name "autoHeight"
  - Wait:
      description: Wait for 5 seconds
  - Click:
      description: Click on first <a> element matching css query "li:nth-child(1) > a"
      annotation:
        description: その他コンテンツ1をクリック
  - AwaitTab:
      description: Wait for the tab "[qa(d4a33fd7deb0a1ad6cbc35834ffa11944e1fb615)] m3.com"
      annotation:
        description: '"m3.com"表示までWait'
  - SwitchContext:
      description: >-
        Switch context to the tab
        "[qa(d4a33fd7deb0a1ad6cbc35834ffa11944e1fb615)] m3.com"
      annotation:
        description: '"m3.com"にスイッチ'
  - If:
      description: IF "href" of current URL equals "https://qa{{@proxy}}.top-qa.m3.com/"
  - AssertEquals:
      description: >-
        Assert "href" of current URL equals
        "https://qa{{@proxy}}.top-qa.m3.com/"
  - Else:
      description: ELSE
  - AssertEquals:
      description: Assert "href" of current URL equals "https://www.m3.com/"
  - End:
      description: END
  - SwitchContext:
      description: Switch context to the initial tab
      annotation:
        description: ワンポイント医療情報にスイッチ
  - SwitchContext:
      description: Switch context to the <iframe> element with class name "autoHeight"
  - Click:
      description: Click on first <a> element matching css query "li:nth-child(2) > a"
      annotation:
        description: その他コンテンツ2をクリック
  - AwaitTab:
      description: Wait for the tab "Yahoo! JAPAN"
      annotation:
        description: '"Yahoo! JAPAN"表示までWait'
  - SwitchContext:
      description: Switch context to the tab "Yahoo! JAPAN"
      annotation:
        description: '"Yahoo! JAPAN"にスイッチ'
  - AssertEquals:
      description: Assert "href" of current URL equals "https://www.yahoo.co.jp/"
  - SwitchContext:
      description: Switch context to the initial tab
      annotation:
        description: ワンポイント医療情報にスイッチ
  - SwitchContext:
      description: Switch context to the <iframe> element with class name "autoHeight"
  - Click:
      description: Click on first <a> element matching css query "li:nth-child(3) > a"
      annotation:
        description: その他コンテンツ3をクリック
  - AwaitTab:
      description: Wait for the tab "Google - 概要"
      annotation:
        description: '"Google - 概要"表示までWait'
  - SwitchContext:
      description: Switch context to the tab "Google - 概要"
      annotation:
        description: '"Google - 概要"にスイッチ'
  - AssertEquals:
      description: >-
        Assert "href" of current URL equals
        "https://about.google/intl/ja_jp/?utm_..."
  - SwitchContext:
      description: Switch context to the initial tab
      annotation:
        description: ワンポイント医療情報にスイッチ
  - SwitchContext:
      description: Switch context to the <iframe> element with class name "autoHeight"
  - Click:
      description: Click on first <a> element matching css query "li:nth-child(4) > a"
      annotation:
        description: OPD Quizコンテンツ7をクリック
  - AwaitTab:
      description: >-
        Wait for the tab "TEST:mrqa1 MRKUN_5_6_80 Updated:2022-10-21 16:50:25
        m3.com | Ca拮抗薬の違いを知る　第1回【アテディオ】"
      annotation:
        description: '"Quizコンテンツ"表示までWait'
  - SwitchContext:
      description: >-
        Switch context to the tab "TEST:mrqa1 MRKUN_5_6_80 Updated:2022-10-21
        16:50:25 m3.com | Ca拮抗薬の違いを知る　第1回【アテディオ】"
      annotation:
        description: ”Quizコンテンツ"にスイッチ
  - CreateVariable:
      description: >-
        Generate a random string with format
        "https://mrkun.m3.com/mrq/contentsquiz/m3sMCD0001/1/quiz.htm?opdId={{@opd_created_id14}}&tp="
        and assign it to variable "opd_Quiz_URL"
      annotation:
        description: 変数の設定_QuizコンテンツのURLにID名を含む必要があるため指定_変数名_"opd_Quiz_URL"
  - AssertEquals:
      description: >-
        Assert "href" of current URL equals the value of the variable
        "opd_Quiz_URL"
      annotation:
        description: Assert URLが"opd_Quiz_URL"
  - SwitchContext:
      description: Switch context to the initial tab
      annotation:
        description: ワンポイント医療情報にスイッチ
  - SwitchContext:
      description: Switch context to the <iframe> element with class name "autoHeight"
  - Click:
      description: Click on first <a> element matching css query "li:nth-child(5) > a"
      annotation:
        description: MR君・myMR君登録コンテンツ8 MR登録なしをクリック
  - AwaitTab:
      description: Wait for the tab "Google"
      annotation:
        description: '"Google"表示までWait'
  - SwitchContext:
      description: Switch context to the tab "Google"
      annotation:
        description: '"Google"にスイッチ'
  - AssertEquals:
      description: Assert "href" of current URL equals "https://www.google.com/?hl=ja"
  - SwitchContext:
      description: Switch context to the initial tab
      annotation:
        description: ワンポイント医療情報にスイッチ
  - SwitchContext:
      description: Switch context to the <iframe> element with class name "autoHeight"
  - Click:
      description: Click on first <a> element matching css query "li:nth-child(6) > a"
      annotation:
        description: 添付文書コンテンツ9をクリック
  - DownloadPdfStep:
      description: >-
        Testing PDF: Assert file name equals "0000050568.pdf" for download
        "0000050568.pdf"
      annotation:
        description: '"0000050568.pdf"をダウンロード＆表示'
  - SwitchContext:
      description: Switch context to the tab "mabl PDF viewer"
      annotation:
        description: '"PDF"にスイッチ'
  - AssertContains:
      description: >-
        Assert "href" of current URL contains
        "http://localhost:8000/?file=/00000505..."
      annotation:
        description: Assert URLに "http://localhost:8000/?file=/00000505..."を含む
  - SwitchContext:
      description: Switch context to the initial tab
      annotation:
        description: ワンポイント医療情報にスイッチ
  - Click:
      description: Click on the <dd> element with text "自動テスト株式会社"
      annotation:
        description: スイッチ確認のため"自動テスト株式会社"を押下
  - Navigate:
      description: Page reload performed
      annotation:
        description: リロード
  - Wait:
      description: Wait for 60 seconds
  - VisitUrl:
      description: Visit URL "https://point-qa{{@proxy}}.m3.com/action/history"
      annotation:
        description: アクション加算・変換履歴に遷移
  - EvaluateJavaScript:
      description: Evaluate reusable JavaScript snippet "opd_contents_view_count"
      annotation:
        description: ワンポイント医療情報コンテンツ視聴文言が上から何行目にあるか確認_"opd_contents_view_count"
  - CreateVariable:
      description: >-
        Evaluate reusable JavaScript snippet "opd_contents_view_count" and
        assign it to variable "opd_contents_view_count"
      annotation:
        description: 変数の設定_"opd_contents_view_count"
  - AssertEquals:
      description: >-
        Assert "innerText" of first <td> element matching css query
        "div.m3-panel > table > tbody >
        tr:nth-child({{@opd_contents_view_count}}) > td:nth-child(2)" equals
        "ワンポイント医療情報コンテンツ視聴"
      annotation:
        description: Assert_一番上の行にある"ワンポイント医療情報コンテンツ視聴"
  - AssertGreaterThanOrEquals:
      description: >-
        Assert "innerText" of first <td> element matching css query
        "div.m3-panel > table > tbody >
        tr:nth-child({{@opd_contents_view_count}}) > td:nth-child(3)" is greater
        than or equal to "+10"
      annotation:
        description: ワンポイント医療情報コンテンツ視聴によるアクション加算が+10以上になっていることを確認
  - AssertGreaterThanOrEquals:
      description: >-
        Assert "innerText" of first element matching xpath
        "/html/body/div[1]/div/ul/li[3]/div/a/span" is greater than or equal to
        the value of the variable "opd_opened_action"
      annotation:
        description: Assert_アクションポイントが加算されていることを確認_ "opd_opened_action"
  - VisitUrl:
      description: Visit URL "https://mrkun.m3.com/mrq/mr/list.htm"
      annotation:
        description: MR君・my MR君・QOL君登録、表示、削除管理に遷移
  - AssertContains:
      description: >-
        Assert "innerText" of the <dl> element with text "登録済みMR
        未登録MR登録済みMR未登録担当者登録済み担当者 日本イーライリリー株式会社 里梨 亜衣 このMRを選択 M3 治験担当 金原真麻 M3
        アン・ケイト M3 臨床編集担当 小島領平 このMRを選択 M3 橋本佳子 M3 医療情報担当 坂井悠紀子" contains
        "日本イーライリリー株式会社 里梨 亜衣"
      annotation:
        description: Assert_"登録済みMRの中に"日本イーライリリー株式会社 里梨 亜衣"が存在することを確認
  - VisitUrl:
      description: Visit URL "http://mrqa{{@proxy}}:7001/admin/qa/"
      annotation:
        description: QA用ツール-メイン画面に遷移
  - EnterText:
      description: >-
        Enter "mrqa_auto048" in the text field with ID
        "rollbackRegisteredMr_loginId"
      annotation:
        description: MR登録を解除する_Login Id入力 "mrqa_auto048"
  - EnterText:
      description: Enter "LIBONE" in the text field with ID "rollbackRegisteredMr_mrId"
      annotation:
        description: MR登録を解除する_MR-ID入力 "LIBONE"
  - Click:
      description: Click on a button
      annotation:
        description: 実行押下
